{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "wallet",
  "title": "Solana Wallet UI",
  "description": "Complete Solana wallet UI — connect button, modal, account dropdown, and all primitives.",
  "dependencies": ["@solana/connector@^0.2.0", "@tanstack/react-query@^5.0.0", "lucide-react"],
  "registryDependencies": [
    "button",
    "dialog",
    "sheet",
    "dropdown-menu",
    "avatar",
    "select",
    "scroll-area",
    "separator"
  ],
  "files": [
    {
      "path": "registry/new-york/shadcn-solana-wallets/connect-button.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { useWallet, useWalletInfo, useAccount } from \"@solana/connector\";\nimport { Loader2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useWalletModal } from \"./use-wallet-modal\";\nimport { WalletModal } from \"./wallet-modal\";\nimport { AccountDropdown } from \"./account-dropdown\";\nimport { ClusterSelector } from \"./cluster-selector\";\nimport { WalletIcon } from \"./wallet-icon\";\n\nexport interface ConnectButtonProps {\n  connectLabel?: string;\n  className?: string;\n  showBalance?: boolean;\n  showCluster?: boolean;\n  showExplorer?: boolean;\n}\n\nexport function ConnectButton({\n  connectLabel = \"Connect Wallet\",\n  className,\n  showBalance = true,\n  showCluster = true,\n  showExplorer = true,\n}: ConnectButtonProps) {\n  const { isConnected, isConnecting } = useWallet();\n  const { name, icon } = useWalletInfo();\n  const { formatted } = useAccount();\n  const { open, setOpen, openModal } = useWalletModal();\n\n  // Connecting state\n  if (isConnecting) {\n    return (\n      <>\n        <Button variant=\"outline\" disabled className={cn(\"gap-2\", className)}>\n          <Loader2 className=\"size-4 animate-spin\" />\n          Connecting...\n        </Button>\n        <WalletModal open={open} onOpenChange={setOpen} />\n      </>\n    );\n  }\n\n  // Connected state\n  if (isConnected) {\n    return (\n      <div className=\"flex items-center gap-2\">\n        <AccountDropdown\n          showBalance={showBalance}\n          showCluster={false}\n          showExplorer={showExplorer}\n          trigger={\n            <Button variant=\"outline\" className={cn(\"gap-2\", className)}>\n              <WalletIcon name={name ?? undefined} icon={icon ?? undefined} size={20} />\n              <span className=\"font-mono text-sm\">{formatted}</span>\n            </Button>\n          }\n        />\n        {showCluster && <ClusterSelector className=\"w-[130px]\" />}\n      </div>\n    );\n  }\n\n  // Disconnected state\n  return (\n    <>\n      <Button onClick={openModal} className={className}>\n        {connectLabel}\n      </Button>\n      <WalletModal open={open} onOpenChange={setOpen} />\n    </>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/connect-button.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/wallet-modal.tsx",
      "content": "\"use client\";\n\nimport { useState, useCallback, useRef } from \"react\";\nimport { Dialog, DialogContent, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetDescription,\n} from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { useWalletConnectors, useConnectWallet, type WalletConnectorId } from \"@solana/connector\";\nimport { ChevronLeft } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useIsDesktop } from \"./use-media-query\";\nimport { useRecentWallets } from \"./use-recent-wallets\";\nimport { useWalletInstallInfo } from \"./wallet-info-context\";\nimport { WalletListPanel } from \"./wallet-list-panel\";\nimport { WalletDetailPanel, type DetailView } from \"./wallet-detail-panel\";\nimport type { WalletInstallInfo } from \"./wallet-install-info\";\n\nexport type ModalView = \"list\" | DetailView;\n\nexport interface WalletModalProps {\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  className?: string;\n  walletInstallInfo?: WalletInstallInfo[];\n}\n\nfunction InstallInfoResolver({\n  connectorId,\n  children,\n}: {\n  connectorId: string;\n  children: (info: WalletInstallInfo | undefined) => React.ReactNode;\n}) {\n  const info = useWalletInstallInfo(connectorId);\n  return <>{children(info)}</>;\n}\n\nexport function WalletModal({ open, onOpenChange, className }: WalletModalProps) {\n  const isDesktop = useIsDesktop();\n  const connectors = useWalletConnectors();\n  const { connect, error, resetError } = useConnectWallet();\n  const { recentWallets, addRecentWallet } = useRecentWallets();\n\n  const [view, setView] = useState<ModalView>(\"list\");\n  const [selectedConnectorId, setSelectedConnectorId] = useState<WalletConnectorId | null>(null);\n  const [connectError, setConnectError] = useState<Error | null>(null);\n\n  const connectingRef = useRef<WalletConnectorId | null>(null);\n\n  const selectedConnector = connectors.find((c) => c.id === selectedConnectorId);\n\n  // Reset state when modal closes\n  const handleOpenChange = useCallback(\n    (nextOpen: boolean) => {\n      if (!nextOpen) {\n        setView(\"list\");\n        setSelectedConnectorId(null);\n        setConnectError(null);\n        connectingRef.current = null;\n        resetError();\n      }\n      onOpenChange?.(nextOpen);\n    },\n    [onOpenChange, resetError]\n  );\n\n  const handleSelectWallet = useCallback(\n    async (connectorId: WalletConnectorId) => {\n      setSelectedConnectorId(connectorId);\n      setConnectError(null);\n      connectingRef.current = connectorId;\n\n      const connector = connectors.find((c) => c.id === connectorId);\n      if (connector && !connector.ready) {\n        // Wallet not installed — show install view\n        setView(\"install\");\n        return;\n      }\n\n      setView(\"connecting\");\n\n      try {\n        await connect(connectorId);\n        // Stale check\n        if (connectingRef.current !== connectorId) return;\n        addRecentWallet(connectorId);\n        handleOpenChange(false);\n      } catch (err) {\n        // Stale check\n        if (connectingRef.current !== connectorId) return;\n        setConnectError(err instanceof Error ? err : new Error(\"Connection failed\"));\n        setView(\"error\");\n      }\n    },\n    [connect, connectors, addRecentWallet, handleOpenChange]\n  );\n\n  const handleRetry = useCallback(() => {\n    if (selectedConnectorId) {\n      handleSelectWallet(selectedConnectorId);\n    }\n  }, [selectedConnectorId, handleSelectWallet]);\n\n  const handleBack = useCallback(() => {\n    if (view === \"get-started\") {\n      setView(\"install\");\n    } else {\n      setView(\"list\");\n      setSelectedConnectorId(null);\n      setConnectError(null);\n      connectingRef.current = null;\n      resetError();\n    }\n  }, [view, resetError]);\n\n  // Determine the detail view for desktop (default to get-wallet when nothing selected)\n  const detailView: DetailView = view === \"list\" ? \"get-wallet\" : view;\n\n  // Mobile header title\n  const mobileTitle =\n    view === \"list\"\n      ? \"Connect a Wallet\"\n      : view === \"get-wallet\"\n        ? \"What is a Wallet?\"\n        : view === \"connecting\"\n          ? `Connecting to ${selectedConnector?.name ?? \"Wallet\"}`\n          : view === \"error\"\n            ? \"Connection Failed\"\n            : view === \"install\"\n              ? `Install ${selectedConnector?.name ?? \"Wallet\"}`\n              : view === \"get-started\"\n                ? `Get Started`\n                : \"Connect a Wallet\";\n\n  const detailPanel = (\n    <InstallInfoResolver connectorId={selectedConnectorId ?? \"\"}>\n      {(installInfo) => (\n        <WalletDetailPanel\n          view={detailView}\n          walletName={selectedConnector?.name}\n          walletIcon={selectedConnector?.icon}\n          error={connectError ?? error ?? null}\n          installInfo={installInfo}\n          onRetry={handleRetry}\n          onGetStarted={() => setView(\"get-started\")}\n          onBackToInstall={() => setView(\"install\")}\n        />\n      )}\n    </InstallInfoResolver>\n  );\n\n  // Desktop: two-panel Dialog\n  if (isDesktop) {\n    return (\n      <Dialog open={open} onOpenChange={handleOpenChange}>\n        <DialogContent\n          className={cn(\"gap-0 overflow-hidden p-0 sm:max-w-[680px]\", className)}\n          style={\n            {\n              \"--tw-enter-translate-x\": \"0\",\n              \"--tw-enter-translate-y\": \"0\",\n              \"--tw-exit-translate-x\": \"0\",\n              \"--tw-exit-translate-y\": \"0\",\n            } as React.CSSProperties\n          }\n        >\n          <DialogTitle className=\"sr-only\">Connect a Wallet</DialogTitle>\n          <DialogDescription className=\"sr-only\">\n            Choose a wallet to connect to this app.\n          </DialogDescription>\n          <div className=\"flex h-[440px]\">\n            {/* Left panel: wallet list */}\n            <div className=\"flex w-[240px] flex-col border-r\">\n              <div className=\"px-6 pt-5 pb-2\">\n                <h2 className=\"text-sm font-semibold\">Connect a Wallet</h2>\n              </div>\n              <WalletListPanel\n                className=\"flex-1\"\n                connectors={connectors}\n                recentWallets={recentWallets}\n                selectedConnectorId={selectedConnectorId}\n                onSelect={handleSelectWallet}\n              />\n            </div>\n            {/* Right panel: detail */}\n            <div className=\"flex-1\">{detailPanel}</div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  // Mobile: single-column Sheet\n  return (\n    <Sheet open={open} onOpenChange={handleOpenChange}>\n      <SheetContent side=\"bottom\" className={cn(\"rounded-t-xl p-0\", className)}>\n        <div className=\"flex max-h-[85vh] flex-col\">\n          {/* Header */}\n          <SheetHeader className=\"flex-row items-center gap-2 border-b px-4 py-3\">\n            {view !== \"list\" && (\n              <Button variant=\"ghost\" size=\"icon\" className=\"size-8 shrink-0\" onClick={handleBack}>\n                <ChevronLeft className=\"size-4\" />\n                <span className=\"sr-only\">Back</span>\n              </Button>\n            )}\n            <SheetTitle className=\"flex-1 text-sm font-semibold\">{mobileTitle}</SheetTitle>\n            <SheetDescription className=\"sr-only\">\n              Choose a wallet to connect to this app.\n            </SheetDescription>\n          </SheetHeader>\n\n          {/* Content */}\n          {view === \"list\" ? (\n            <WalletListPanel\n              className=\"flex-1 overflow-auto\"\n              connectors={connectors}\n              recentWallets={recentWallets}\n              selectedConnectorId={selectedConnectorId}\n              onSelect={(id) => {\n                handleSelectWallet(id);\n              }}\n            />\n          ) : (\n            <div className=\"flex-1 overflow-auto\">{detailPanel}</div>\n          )}\n        </div>\n      </SheetContent>\n    </Sheet>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/wallet-modal.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/account-dropdown.tsx",
      "content": "\"use client\";\n\nimport { type ReactNode } from \"react\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  useAccount,\n  useBalance,\n  useWalletInfo,\n  useDisconnectWallet,\n  useCluster,\n} from \"@solana/connector\";\nimport { ExternalLink, LogOut } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { WalletIcon } from \"./wallet-icon\";\nimport { AddressLabel } from \"./address-label\";\nimport { BalanceDisplay } from \"./balance-display\";\nimport { ClusterSelector } from \"./cluster-selector\";\n\nexport interface AccountDropdownProps {\n  trigger?: ReactNode;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  showBalance?: boolean;\n  showCluster?: boolean;\n  showExplorer?: boolean;\n  className?: string;\n  children?: ReactNode;\n}\n\nexport function AccountDropdown({\n  trigger,\n  open,\n  onOpenChange,\n  showBalance = true,\n  showCluster = true,\n  showExplorer = true,\n  className,\n  children,\n}: AccountDropdownProps) {\n  const { address } = useAccount();\n  const { lamports } = useBalance();\n  const { name, icon } = useWalletInfo();\n  const { disconnect } = useDisconnectWallet();\n  const { explorerUrl } = useCluster();\n\n  if (!address) return null;\n\n  const explorerAccountUrl = `${explorerUrl}/address/${address}`;\n\n  return (\n    <DropdownMenu open={open} onOpenChange={onOpenChange}>\n      <DropdownMenuTrigger asChild>{trigger}</DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className={cn(\"w-[280px]\", className)}>\n        <DropdownMenuLabel className=\"flex items-center gap-3 font-normal\">\n          <WalletIcon name={name ?? undefined} icon={icon ?? undefined} size={32} />\n          <div className=\"flex flex-col gap-0.5\">\n            <span className=\"text-sm font-medium\">{name}</span>\n            <AddressLabel address={address} className=\"text-muted-foreground text-xs\" />\n          </div>\n        </DropdownMenuLabel>\n\n        {showBalance && (\n          <>\n            <DropdownMenuSeparator />\n            <div className=\"px-2 py-1.5\">\n              <BalanceDisplay lamports={lamports} />\n            </div>\n          </>\n        )}\n\n        {showCluster && (\n          <>\n            <DropdownMenuSeparator />\n            <div className=\"px-2 py-1.5\">\n              <label className=\"text-muted-foreground mb-1 block text-xs\">Network</label>\n              <ClusterSelector />\n            </div>\n          </>\n        )}\n\n        {showExplorer && (\n          <>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem asChild>\n              <a href={explorerAccountUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                <ExternalLink className=\"mr-2 size-4\" />\n                View on Explorer\n              </a>\n            </DropdownMenuItem>\n          </>\n        )}\n\n        {children && (\n          <>\n            <DropdownMenuSeparator />\n            {children}\n          </>\n        )}\n\n        <DropdownMenuSeparator />\n        <DropdownMenuItem\n          onClick={() => disconnect()}\n          className=\"text-destructive focus:text-destructive\"\n        >\n          <LogOut className=\"mr-2 size-4\" />\n          Disconnect\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/account-dropdown.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/cluster-selector.tsx",
      "content": "\"use client\";\n\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { useCluster, type SolanaClusterId } from \"@solana/connector\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ClusterSelectorProps {\n  value?: string;\n  onValueChange?: (value: string) => void;\n  className?: string;\n}\n\nexport function ClusterSelector({\n  value: controlledValue,\n  onValueChange: controlledOnValueChange,\n  className,\n}: ClusterSelectorProps) {\n  const { cluster, clusters, setCluster } = useCluster();\n\n  const value = controlledValue ?? cluster?.id ?? \"\";\n  const onValueChange =\n    controlledOnValueChange ?? ((id: string) => setCluster(id as SolanaClusterId));\n\n  return (\n    <Select value={value} onValueChange={onValueChange}>\n      <SelectTrigger className={cn(\"h-8 w-full\", className)}>\n        <SelectValue placeholder=\"Select network\" />\n      </SelectTrigger>\n      <SelectContent>\n        {clusters.map((c) => (\n          <SelectItem key={c.id} value={c.id}>\n            {c.label}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/cluster-selector.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/wallet-icon.tsx",
      "content": "\"use client\";\n\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface WalletIconProps extends React.ComponentProps<typeof Avatar> {\n  name?: string;\n  icon?: string;\n  size?: number;\n}\n\nexport function WalletIcon({ className, name, icon, size = 28, ...props }: WalletIconProps) {\n  return (\n    <Avatar\n      className={cn(\"shrink-0 rounded-md\", className)}\n      style={{ width: size, height: size }}\n      {...props}\n    >\n      <AvatarImage src={icon} alt={name ?? \"Wallet\"} />\n      <AvatarFallback className=\"rounded-md text-xs\">\n        {name?.slice(0, 2).toUpperCase() ?? \"??\"}\n      </AvatarFallback>\n    </Avatar>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/wallet-icon.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/wallet-list-item.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { WalletIcon } from \"./wallet-icon\";\n\nexport interface WalletListItemProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  name: string;\n  icon?: string;\n  selected?: boolean;\n  recent?: boolean;\n  installed?: boolean;\n}\n\nexport function WalletListItem({\n  className,\n  name,\n  icon,\n  selected,\n  recent,\n  installed,\n  ...props\n}: WalletListItemProps) {\n  return (\n    <Button\n      variant=\"ghost\"\n      type=\"button\"\n      className={cn(\n        \"h-auto w-full justify-start gap-3 px-3 py-2.5 font-medium\",\n        selected &&\n          \"bg-primary text-primary-foreground hover:bg-primary/90 hover:text-primary-foreground\",\n        className\n      )}\n      {...props}\n    >\n      <WalletIcon name={name} icon={icon} size={28} />\n      <span className=\"flex-1 text-left\">{name}</span>\n      {!selected && recent && <span className=\"text-muted-foreground text-xs\">Recent</span>}\n      {!selected && installed && !recent && (\n        <span className=\"text-muted-foreground text-xs\">Installed</span>\n      )}\n    </Button>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/wallet-list-item.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/wallet-list-panel.tsx",
      "content": "\"use client\";\n\nimport type { WalletConnectorId } from \"@solana/connector\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { WalletListItem } from \"./wallet-list-item\";\nimport { POPULAR_WALLET_IDS } from \"./wallet-install-info\";\n\ninterface WalletConnector {\n  id: WalletConnectorId;\n  name: string;\n  icon?: string;\n  ready: boolean;\n}\n\nexport interface WalletListPanelProps {\n  connectors: WalletConnector[];\n  recentWallets: string[];\n  selectedConnectorId: WalletConnectorId | null;\n  onSelect: (connectorId: WalletConnectorId) => void;\n  className?: string;\n}\n\nfunction isPopular(connector: WalletConnector, recentWallets: string[]): boolean {\n  const id = connector.id.toLowerCase();\n  return (\n    POPULAR_WALLET_IDS.some((pid) => id.includes(pid)) ||\n    recentWallets.includes(connector.id) ||\n    connector.ready\n  );\n}\n\nfunction sortConnectors(connectors: WalletConnector[], recentWallets: string[]): WalletConnector[] {\n  return [...connectors].sort((a, b) => {\n    const aRecent = recentWallets.indexOf(a.id);\n    const bRecent = recentWallets.indexOf(b.id);\n    // Recent wallets first\n    if (aRecent !== -1 && bRecent !== -1) return aRecent - bRecent;\n    if (aRecent !== -1) return -1;\n    if (bRecent !== -1) return 1;\n    // Installed next\n    if (a.ready && !b.ready) return -1;\n    if (!a.ready && b.ready) return 1;\n    // Alphabetical\n    return a.name.localeCompare(b.name);\n  });\n}\n\nexport function WalletListPanel({\n  connectors,\n  recentWallets,\n  selectedConnectorId,\n  onSelect,\n  className,\n}: WalletListPanelProps) {\n  const popular = sortConnectors(\n    connectors.filter((c) => isPopular(c, recentWallets)),\n    recentWallets\n  );\n  const more = sortConnectors(\n    connectors.filter((c) => !isPopular(c, recentWallets)),\n    recentWallets\n  );\n\n  return (\n    <ScrollArea className={className}>\n      <div className=\"flex flex-col gap-1 p-3\">\n        {popular.length > 0 && (\n          <>\n            <p className=\"text-muted-foreground px-3 py-1.5 text-xs font-medium\">Popular</p>\n            {popular.map((connector) => (\n              <WalletListItem\n                key={connector.id}\n                name={connector.name}\n                icon={connector.icon}\n                recent={recentWallets.includes(connector.id)}\n                installed={connector.ready}\n                selected={connector.id === selectedConnectorId}\n                onClick={() => onSelect(connector.id)}\n              />\n            ))}\n          </>\n        )}\n        {more.length > 0 && (\n          <>\n            {popular.length > 0 && <Separator className=\"my-2\" />}\n            <p className=\"text-muted-foreground px-3 py-1.5 text-xs font-medium\">More</p>\n            {more.map((connector) => (\n              <WalletListItem\n                key={connector.id}\n                name={connector.name}\n                icon={connector.icon}\n                recent={recentWallets.includes(connector.id)}\n                installed={connector.ready}\n                selected={connector.id === selectedConnectorId}\n                onClick={() => onSelect(connector.id)}\n              />\n            ))}\n          </>\n        )}\n      </div>\n    </ScrollArea>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/wallet-list-panel.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/wallet-detail-panel.tsx",
      "content": "\"use client\";\n\nimport { Wallet, KeyRound, Download, AlertCircle, ExternalLink, ChevronRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { WalletIcon } from \"./wallet-icon\";\nimport { ConnectingAnimation } from \"./connecting-animation\";\nimport type { WalletInstallInfo } from \"./wallet-install-info\";\n\nexport type DetailView = \"get-wallet\" | \"connecting\" | \"error\" | \"install\" | \"get-started\";\n\nexport interface WalletDetailPanelProps {\n  view: DetailView;\n  walletName?: string;\n  walletIcon?: string;\n  error?: Error | null;\n  installInfo?: WalletInstallInfo;\n  onRetry?: () => void;\n  onGetStarted?: () => void;\n  onBackToInstall?: () => void;\n  className?: string;\n}\n\nfunction GetWalletView() {\n  return (\n    <div className=\"flex h-full flex-col items-center justify-center gap-6 p-6\">\n      <h3 className=\"text-lg font-semibold\">What is a Wallet?</h3>\n      <div className=\"flex flex-col gap-5\">\n        <div className=\"flex items-start gap-4\">\n          <div className=\"bg-primary/10 text-primary flex size-10 shrink-0 items-center justify-center rounded-lg\">\n            <Wallet className=\"size-5\" />\n          </div>\n          <div className=\"flex flex-col gap-1\">\n            <p className=\"text-sm font-medium\">A Home for your Digital Assets</p>\n            <p className=\"text-muted-foreground text-xs\">\n              Wallets are used to send, receive, store, and display digital assets like Solana and\n              NFTs.\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-start gap-4\">\n          <div className=\"bg-primary/10 text-primary flex size-10 shrink-0 items-center justify-center rounded-lg\">\n            <KeyRound className=\"size-5\" />\n          </div>\n          <div className=\"flex flex-col gap-1\">\n            <p className=\"text-sm font-medium\">A New Way to Log In</p>\n            <p className=\"text-muted-foreground text-xs\">\n              Instead of creating new accounts and passwords on every website, just connect your\n              wallet.\n            </p>\n          </div>\n        </div>\n      </div>\n      <Button variant=\"default\" className=\"mt-2\" asChild>\n        <a href=\"https://solana.com/solana-wallets\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Get a Wallet\n          <ExternalLink className=\"ml-2 size-3.5\" />\n        </a>\n      </Button>\n    </div>\n  );\n}\n\nfunction ConnectingView({ walletName, walletIcon }: { walletName?: string; walletIcon?: string }) {\n  return (\n    <div className=\"flex h-full items-center justify-center p-6\">\n      <ConnectingAnimation walletName={walletName} walletIcon={walletIcon} />\n    </div>\n  );\n}\n\nfunction ErrorView({\n  walletName,\n  walletIcon,\n  error,\n  onRetry,\n}: {\n  walletName?: string;\n  walletIcon?: string;\n  error?: Error | null;\n  onRetry?: () => void;\n}) {\n  return (\n    <div className=\"flex h-full flex-col items-center justify-center gap-4 p-6\">\n      <div className=\"relative\">\n        {walletIcon ? (\n          <WalletIcon name={walletName} icon={walletIcon} size={64} />\n        ) : (\n          <AlertCircle className=\"text-destructive size-12\" />\n        )}\n      </div>\n      {walletName && <p className=\"text-sm font-medium\">{walletName}</p>}\n      <p className=\"text-destructive max-w-[240px] text-center text-sm\">\n        {error?.message || \"Connection failed. Please try again.\"}\n      </p>\n      {onRetry && (\n        <Button size=\"sm\" onClick={onRetry}>\n          Try Again\n        </Button>\n      )}\n    </div>\n  );\n}\n\nfunction InstallView({\n  walletName,\n  walletIcon,\n  installInfo,\n  onGetStarted,\n}: {\n  walletName?: string;\n  walletIcon?: string;\n  installInfo?: WalletInstallInfo;\n  onGetStarted?: () => void;\n}) {\n  return (\n    <div className=\"flex h-full flex-col items-center justify-center gap-5 p-6\">\n      <WalletIcon name={walletName} icon={walletIcon} size={64} />\n      <div className=\"text-center\">\n        <h3 className=\"text-base font-semibold\">Install {walletName ?? \"Wallet\"}</h3>\n        {installInfo?.description && (\n          <p className=\"text-muted-foreground mt-1 max-w-[280px] text-xs\">\n            {installInfo.description}\n          </p>\n        )}\n      </div>\n      {installInfo?.installLinks && installInfo.installLinks.length > 0 && (\n        <div className=\"flex w-full max-w-[240px] flex-col gap-2\">\n          {installInfo.installLinks.map((link) => (\n            <Button\n              key={link.label}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"w-full justify-between\"\n              asChild\n            >\n              <a href={link.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                <span className=\"flex items-center gap-2\">\n                  <Download className=\"size-3.5\" />\n                  {link.label}\n                </span>\n                <ExternalLink className=\"size-3\" />\n              </a>\n            </Button>\n          ))}\n        </div>\n      )}\n      {installInfo?.gettingStartedSteps && onGetStarted && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"text-muted-foreground text-xs\"\n          onClick={onGetStarted}\n        >\n          Get Started\n          <ChevronRight className=\"ml-1 size-3\" />\n        </Button>\n      )}\n    </div>\n  );\n}\n\nfunction GetStartedView({\n  walletName,\n  walletIcon,\n  installInfo,\n  onBack,\n}: {\n  walletName?: string;\n  walletIcon?: string;\n  installInfo?: WalletInstallInfo;\n  onBack?: () => void;\n}) {\n  const steps = installInfo?.gettingStartedSteps ?? [];\n\n  return (\n    <div className=\"flex h-full flex-col items-center justify-center gap-5 p-6\">\n      <WalletIcon name={walletName} icon={walletIcon} size={64} />\n      <h3 className=\"text-base font-semibold\">Get Started with {walletName ?? \"Wallet\"}</h3>\n      {steps.length > 0 && (\n        <ol className=\"flex max-w-[280px] flex-col gap-3\">\n          {steps.map((step, i) => (\n            <li key={i} className=\"flex items-start gap-3\">\n              <span className=\"bg-primary text-primary-foreground flex size-6 shrink-0 items-center justify-center rounded-full text-xs font-medium\">\n                {i + 1}\n              </span>\n              <span className=\"text-muted-foreground text-sm\">{step}</span>\n            </li>\n          ))}\n        </ol>\n      )}\n      {onBack && (\n        <Button variant=\"outline\" size=\"sm\" onClick={onBack}>\n          Back\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport function WalletDetailPanel({\n  view,\n  walletName,\n  walletIcon,\n  error,\n  installInfo,\n  onRetry,\n  onGetStarted,\n  onBackToInstall,\n  className,\n}: WalletDetailPanelProps) {\n  return (\n    <div className={cn(\"flex h-full flex-col\", className)}>\n      {view === \"get-wallet\" && <GetWalletView />}\n      {view === \"connecting\" && <ConnectingView walletName={walletName} walletIcon={walletIcon} />}\n      {view === \"error\" && (\n        <ErrorView\n          walletName={walletName}\n          walletIcon={walletIcon}\n          error={error}\n          onRetry={onRetry}\n        />\n      )}\n      {view === \"install\" && (\n        <InstallView\n          walletName={walletName}\n          walletIcon={walletIcon}\n          installInfo={installInfo}\n          onGetStarted={onGetStarted}\n        />\n      )}\n      {view === \"get-started\" && (\n        <GetStartedView\n          walletName={walletName}\n          walletIcon={walletIcon}\n          installInfo={installInfo}\n          onBack={onBackToInstall}\n        />\n      )}\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/wallet-detail-panel.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/wallet-info-context.tsx",
      "content": "\"use client\";\n\nimport { createContext, useContext, useMemo, type ReactNode } from \"react\";\nimport { type WalletInstallInfo, getWalletInstallInfo } from \"./wallet-install-info\";\n\ninterface WalletInstallInfoContextValue {\n  overrides: WalletInstallInfo[];\n}\n\nconst WalletInstallInfoContext = createContext<WalletInstallInfoContextValue | null>(null);\n\nexport interface WalletInstallInfoProviderProps {\n  children: ReactNode;\n  walletInstallInfo?: WalletInstallInfo[];\n}\n\nexport function WalletInstallInfoProvider({\n  children,\n  walletInstallInfo,\n}: WalletInstallInfoProviderProps) {\n  const value = useMemo(() => ({ overrides: walletInstallInfo ?? [] }), [walletInstallInfo]);\n\n  return (\n    <WalletInstallInfoContext.Provider value={value}>{children}</WalletInstallInfoContext.Provider>\n  );\n}\n\nexport function useWalletInstallInfo(connectorId: string): WalletInstallInfo | undefined {\n  const ctx = useContext(WalletInstallInfoContext);\n  return getWalletInstallInfo(connectorId, ctx?.overrides);\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/wallet-info-context.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/address-label.tsx",
      "content": "\"use client\";\n\nimport { useCallback, useState } from \"react\";\nimport { Check, Copy } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AddressLabelProps extends React.HTMLAttributes<HTMLButtonElement> {\n  address: string;\n  truncateChars?: number;\n  copyable?: boolean;\n}\n\nfunction truncateAddress(address: string, chars: number): string {\n  if (address.length <= chars * 2 + 3) return address;\n  return `${address.slice(0, chars)}...${address.slice(-chars)}`;\n}\n\nexport function AddressLabel({\n  className,\n  address,\n  truncateChars = 4,\n  copyable = true,\n  ...props\n}: AddressLabelProps) {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = useCallback(async () => {\n    if (!copyable) return;\n    await navigator.clipboard.writeText(address);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  }, [address, copyable]);\n\n  const displayAddress = truncateAddress(address, truncateChars);\n\n  if (!copyable) {\n    return <span className={cn(\"font-mono text-sm\", className)}>{displayAddress}</span>;\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={handleCopy}\n      className={cn(\n        \"hover:text-foreground/80 inline-flex items-center gap-1.5 font-mono text-sm transition-colors\",\n        className\n      )}\n      {...props}\n    >\n      {displayAddress}\n      {copied ? (\n        <Check className=\"size-3.5 text-green-500\" />\n      ) : (\n        <Copy className=\"text-muted-foreground size-3.5\" />\n      )}\n    </button>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/address-label.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/balance-display.tsx",
      "content": "\"use client\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface BalanceDisplayProps extends React.HTMLAttributes<HTMLSpanElement> {\n  lamports?: bigint | number;\n  showSymbol?: boolean;\n  decimals?: number;\n}\n\nconst LAMPORTS_PER_SOL = 1_000_000_000;\n\nfunction formatBalance(lamports: bigint | number, decimals: number): string {\n  const value = Number(lamports) / LAMPORTS_PER_SOL;\n  return value.toLocaleString(undefined, {\n    minimumFractionDigits: decimals,\n    maximumFractionDigits: decimals,\n  });\n}\n\nexport function BalanceDisplay({\n  className,\n  lamports,\n  showSymbol = true,\n  decimals = 4,\n  ...props\n}: BalanceDisplayProps) {\n  if (lamports === undefined) {\n    return (\n      <span className={cn(\"text-muted-foreground text-sm\", className)} {...props}>\n        --\n      </span>\n    );\n  }\n\n  return (\n    <span className={cn(\"text-sm font-medium tabular-nums\", className)} {...props}>\n      {formatBalance(lamports, decimals)}\n      {showSymbol && <span className=\"text-muted-foreground ml-1\">SOL</span>}\n    </span>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/balance-display.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/connecting-animation.tsx",
      "content": "\"use client\";\n\nimport { Loader2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { WalletIcon } from \"./wallet-icon\";\n\nexport interface ConnectingAnimationProps extends React.HTMLAttributes<HTMLDivElement> {\n  walletName?: string;\n  walletIcon?: string;\n}\n\nexport function ConnectingAnimation({\n  className,\n  walletName,\n  walletIcon,\n  ...props\n}: ConnectingAnimationProps) {\n  return (\n    <div\n      className={cn(\"flex flex-col items-center justify-center gap-4 py-8\", className)}\n      {...props}\n    >\n      <div className=\"relative\">\n        {walletIcon ? (\n          <WalletIcon name={walletName} icon={walletIcon} size={64} />\n        ) : (\n          <Loader2 className=\"text-primary size-12 animate-spin\" />\n        )}\n      </div>\n      {walletName && <p className=\"text-sm font-medium\">{walletName}</p>}\n      <div className=\"flex items-center gap-2\">\n        {walletIcon && <Loader2 className=\"text-muted-foreground size-4 animate-spin\" />}\n        <p className=\"text-muted-foreground text-sm\">Waiting for connection...</p>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/connecting-animation.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/solana-wallet-provider.tsx",
      "content": "\"use client\";\n\nimport { useState, useMemo, type ReactNode } from \"react\";\nimport { AppProvider, getDefaultConfig } from \"@solana/connector\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { WalletInstallInfoProvider } from \"./wallet-info-context\";\nimport type { WalletInstallInfo } from \"./wallet-install-info\";\n\nexport interface SolanaWalletProviderProps {\n  children: ReactNode;\n  appName?: string;\n  cluster?: \"mainnet-beta\" | \"mainnet\" | \"devnet\" | \"testnet\" | \"localnet\";\n  walletConnectProjectId?: string;\n  autoConnect?: boolean;\n  queryClient?: QueryClient;\n  walletInstallInfo?: WalletInstallInfo[];\n}\n\nexport function SolanaWalletProvider({\n  children,\n  appName = \"My App\",\n  cluster = \"mainnet-beta\",\n  walletConnectProjectId,\n  autoConnect = true,\n  queryClient: externalQueryClient,\n  walletInstallInfo,\n}: SolanaWalletProviderProps) {\n  const [internalQueryClient] = useState(\n    () =>\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            staleTime: 60_000,\n          },\n        },\n      })\n  );\n\n  const config = useMemo(\n    () =>\n      getDefaultConfig({\n        appName,\n        network: cluster,\n        autoConnect,\n        walletConnect: walletConnectProjectId\n          ? {\n              projectId: walletConnectProjectId,\n              metadata: {\n                name: appName,\n                description: appName,\n                url: typeof window !== \"undefined\" ? window.location.origin : \"\",\n                icons: [],\n              },\n            }\n          : undefined,\n      }),\n    [appName, cluster, autoConnect, walletConnectProjectId]\n  );\n\n  const qc = externalQueryClient ?? internalQueryClient;\n\n  return (\n    <QueryClientProvider client={qc}>\n      <AppProvider connectorConfig={config}>\n        <WalletInstallInfoProvider walletInstallInfo={walletInstallInfo}>\n          {children}\n        </WalletInstallInfoProvider>\n      </AppProvider>\n    </QueryClientProvider>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/solana-wallet-provider.tsx"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/use-wallet-modal.ts",
      "content": "\"use client\";\n\nimport { useCallback, useState } from \"react\";\n\nexport function useWalletModal(initialOpen = false) {\n  const [open, setOpen] = useState(initialOpen);\n\n  const openModal = useCallback(() => setOpen(true), []);\n  const closeModal = useCallback(() => setOpen(false), []);\n\n  return { open, setOpen, openModal, closeModal } as const;\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/use-wallet-modal.ts"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/use-recent-wallets.ts",
      "content": "\"use client\";\n\nimport { useCallback, useSyncExternalStore } from \"react\";\nimport { RECENT_WALLETS_KEY, MAX_RECENT_WALLETS } from \"./wallet-install-info\";\n\nconst EMPTY: string[] = [];\n\nlet cachedSnapshot: string[] = EMPTY;\n\nfunction getSnapshot(): string[] {\n  if (typeof window === \"undefined\") return EMPTY;\n  try {\n    const stored = localStorage.getItem(RECENT_WALLETS_KEY);\n    if (!stored) return EMPTY;\n    const parsed = JSON.parse(stored) as string[];\n    // Only update reference if content changed\n    if (parsed.length !== cachedSnapshot.length || parsed.some((v, i) => v !== cachedSnapshot[i])) {\n      cachedSnapshot = parsed;\n    }\n    return cachedSnapshot;\n  } catch {\n    return EMPTY;\n  }\n}\n\nfunction getServerSnapshot(): string[] {\n  return EMPTY;\n}\n\nlet listeners: Array<() => void> = [];\n\nfunction emitChange() {\n  for (const listener of listeners) {\n    listener();\n  }\n}\n\nfunction subscribe(listener: () => void) {\n  listeners = [...listeners, listener];\n  return () => {\n    listeners = listeners.filter((l) => l !== listener);\n  };\n}\n\nexport function useRecentWallets() {\n  const recentWallets = useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n\n  const addRecentWallet = useCallback((connectorId: string) => {\n    const current = getSnapshot();\n    const updated = [connectorId, ...current.filter((id) => id !== connectorId)].slice(\n      0,\n      MAX_RECENT_WALLETS\n    );\n\n    localStorage.setItem(RECENT_WALLETS_KEY, JSON.stringify(updated));\n    emitChange();\n  }, []);\n\n  const clearRecentWallets = useCallback(() => {\n    localStorage.removeItem(RECENT_WALLETS_KEY);\n    emitChange();\n  }, []);\n\n  return { recentWallets, addRecentWallet, clearRecentWallets } as const;\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/use-recent-wallets.ts"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/use-media-query.ts",
      "content": "\"use client\";\n\nimport { useSyncExternalStore } from \"react\";\nimport { MOBILE_BREAKPOINT } from \"./wallet-install-info\";\n\nexport function useMediaQuery(query?: string) {\n  const resolvedQuery = query ?? `(min-width: ${MOBILE_BREAKPOINT}px)`;\n\n  return useSyncExternalStore(\n    (callback) => {\n      const mql = window.matchMedia(resolvedQuery);\n      mql.addEventListener(\"change\", callback);\n      return () => mql.removeEventListener(\"change\", callback);\n    },\n    () => window.matchMedia(resolvedQuery).matches,\n    () => false\n  );\n}\n\nexport function useIsDesktop() {\n  return useMediaQuery();\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/use-media-query.ts"
    },
    {
      "path": "registry/new-york/shadcn-solana-wallets/wallet-install-info.ts",
      "content": "export const RECENT_WALLETS_KEY = \"shadcn-solana-wallets:recent-wallets\";\nexport const MAX_RECENT_WALLETS = 3;\nexport const MOBILE_BREAKPOINT = 768;\n\nexport interface WalletInstallLink {\n  label: string; // \"Chrome\", \"iOS\", \"Android\"\n  url: string;\n}\n\nexport interface WalletInstallInfo {\n  match: string; // substring match against connector.id\n  name: string;\n  installLinks: WalletInstallLink[];\n  description?: string;\n  gettingStartedSteps?: string[];\n  website?: string;\n}\n\nexport const POPULAR_WALLET_IDS = [\"phantom\", \"backpack\", \"solflare\"];\n\nconst BUILT_IN_INSTALL_INFO: WalletInstallInfo[] = [\n  {\n    match: \"phantom\",\n    name: \"Phantom\",\n    website: \"https://phantom.com\",\n    description: \"Your home for trading crypto, predictions, and more.\",\n    installLinks: [\n      {\n        label: \"Chrome\",\n        url: \"https://chromewebstore.google.com/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa\",\n      },\n      {\n        label: \"iOS\",\n        url: \"https://apps.apple.com/app/phantom-trade-markets/id1598432977\",\n      },\n      {\n        label: \"Android\",\n        url: \"https://play.google.com/store/apps/details?id=app.phantom\",\n      },\n    ],\n    gettingStartedSteps: [\n      \"Install the Phantom browser extension or mobile app.\",\n      \"Create a new wallet or import an existing one.\",\n      \"Come back to this page and connect your wallet.\",\n    ],\n  },\n  {\n    match: \"backpack\",\n    name: \"Backpack\",\n    website: \"https://backpack.app\",\n    description: \"The All-in-One Crypto App.\",\n    installLinks: [\n      {\n        label: \"Chrome\",\n        url: \"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof\",\n      },\n      {\n        label: \"iOS\",\n        url: \"https://apps.apple.com/app/backpack-buy-sol-btc-crypto/id6445964121\",\n      },\n      {\n        label: \"Android\",\n        url: \"https://play.google.com/store/apps/details?id=app.backpack.mobile\",\n      },\n    ],\n    gettingStartedSteps: [\n      \"Install the Backpack browser extension or mobile app.\",\n      \"Create a new wallet or import an existing one.\",\n      \"Come back to this page and connect your wallet.\",\n    ],\n  },\n  {\n    match: \"solflare\",\n    name: \"Solflare\",\n    website: \"https://solflare.com\",\n    description: \"What banking should feel like.\",\n    installLinks: [\n      {\n        label: \"Chrome\",\n        url: \"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic\",\n      },\n      {\n        label: \"iOS\",\n        url: \"https://apps.apple.com/app/solflare-solana-wallet/id1580902717\",\n      },\n      {\n        label: \"Android\",\n        url: \"https://play.google.com/store/apps/details?id=com.solflare.mobile&hl=en\",\n      },\n    ],\n    gettingStartedSteps: [\n      \"Install the Solflare browser extension or mobile app.\",\n      \"Create a new wallet or import an existing one.\",\n      \"Come back to this page and connect your wallet.\",\n    ],\n  },\n];\n\nexport function getWalletInstallInfo(\n  connectorId: string,\n  overrides?: WalletInstallInfo[]\n): WalletInstallInfo | undefined {\n  const id = connectorId.toLowerCase();\n\n  if (overrides) {\n    const override = overrides.find((info) => id.includes(info.match.toLowerCase()));\n    if (override) return override;\n  }\n\n  return BUILT_IN_INSTALL_INFO.find((info) => id.includes(info.match.toLowerCase()));\n}\n",
      "type": "registry:component",
      "target": "components/wallet-connect/wallet-install-info.ts"
    }
  ],
  "type": "registry:block"
}
